<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infographic: BRS - The Science of Revenue Optimization</title>
    <link rel="icon" type="image/png" sizes="32x32" href="https://roofingcalculator.com/favicon-32x32.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fdfaf6;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            height: 320px;
            max-height: 350px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
                max-height: 400px;
            }
        }
        .flow-card {
            background-color: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
            border-left-width: 4px;
            transition: transform 0.2s ease-in-out;
        }
        .flow-card:hover {
            transform: translateY(-5px);
        }
        .formula-box {
            background-color: #fff9eb;
            border: 1px solid #f9d423;
            border-radius: 0.5rem;
            padding: 1rem;
            font-family: monospace;
            font-size: 1rem;
            text-align: center;
            box-shadow: 0 1px 2px 0 rgba(0,0,0,0.05);
        }
    </style>
</head>
<body class="text-gray-800">

    <header class="bg-white shadow-md sticky top-0 z-10">
        <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8 relative">
            <a href="index.html" class="absolute top-6 right-4 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 flex items-center gap-2">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                </svg>
                Home
            </a>
            <h1 class="text-4xl font-bold" style="color: #FF4E50;">BRS: The Revenue Optimization Funnel</h1>
            <p class="mt-2 text-lg text-gray-600">A sophisticated filtering system that narrows hundreds of potential campaigns down to the most profitable winners.</p>
        </div>
    </header>

    <main class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8">

        <section id="core-flow" class="mb-16">
            <h2 class="text-3xl font-bold text-center mb-8" style="color: #FF4E50;">The BRS Funnel Process</h2>
            
            <!-- Main Funnel Visualization -->
            <div class="flex justify-center mb-12">
                <div class="relative">
                    <!-- Wide funnel top -->
                    <div class="bg-gradient-to-b from-red-100 to-red-200 border-2 border-red-300 rounded-t-lg px-16 py-6 text-center">
                        <div class="text-3xl font-bold text-red-700">500+</div>
                        <div class="text-sm text-red-600 font-medium">Initial Campaigns</div>
                        <div class="text-xs text-red-500 mt-1">Cast the widest net</div>
                    </div>
                    <!-- Funnel arrow -->
                    <div class="w-0 h-0 border-l-[80px] border-r-[80px] border-t-[25px] border-l-transparent border-r-transparent border-t-orange-200 mx-auto"></div>
                    
                    <!-- Second level -->
                    <div class="bg-gradient-to-b from-orange-100 to-orange-200 border-2 border-orange-300 px-12 py-5 text-center">
                        <div class="text-2xl font-bold text-orange-700">150+</div>
                        <div class="text-sm text-orange-600 font-medium">After Filtering</div>
                        <div class="text-xs text-orange-500 mt-1">Geographic + industry match</div>
                    </div>
                    <!-- Funnel arrow -->
                    <div class="w-0 h-0 border-l-[60px] border-r-[60px] border-t-[25px] border-l-transparent border-r-transparent border-t-yellow-200 mx-auto"></div>
                    
                    <!-- Third level -->
                    <div class="bg-gradient-to-b from-yellow-100 to-yellow-200 border-2 border-yellow-300 px-8 py-4 text-center">
                        <div class="text-2xl font-bold text-yellow-700">40+</div>
                        <div class="text-sm text-yellow-600 font-medium">Budget Available</div>
                        <div class="text-xs text-yellow-500 mt-1">Financial reality check</div>
                    </div>
                    <!-- Funnel arrow -->
                    <div class="w-0 h-0 border-l-[40px] border-r-[40px] border-t-[25px] border-l-transparent border-r-transparent border-t-green-200 mx-auto"></div>
                    
                    <!-- Final level -->
                    <div class="bg-gradient-to-b from-green-100 to-green-200 border-2 border-green-300 rounded-b-lg px-6 py-6 text-center">
                        <div class="text-3xl font-bold text-green-700">1-4</div>
                        <div class="text-sm text-green-600 font-medium">Final Winners</div>
                        <div class="text-xs text-green-500 mt-1">Maximum revenue scenario</div>
                    </div>
                </div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 text-center">
                <div class="flow-card" style="border-color: #FF4E50;">
                    <div class="text-4xl mb-3">üîé</div>
                    <h3 class="text-xl font-semibold">1. Cast the Wide Net</h3>
                    <p class="text-gray-600 mt-2"><strong>500+ ‚Üí 150+</strong></p>
                    <p class="text-gray-600 text-sm">Starts with all potential campaigns, then applies geographic, industry, and performance filters.</p>
                </div>
                <div class="flow-card" style="border-color: #FC913A;">
                    <div class="text-4xl mb-3">üí≤</div>
                    <h3 class="text-xl font-semibold">2. Calculate True Value</h3>
                    <p class="text-gray-600 mt-2"><strong>Price Rectification</strong></p>
                    <p class="text-gray-600 text-sm">Adjusts base prices using rejection rates to predict actual revenue potential.</p>
                </div>
                <div class="flow-card" style="border-color: #F9D423;">
                    <div class="text-4xl mb-3">üìä</div>
                    <h3 class="text-xl font-semibold">3. Budget Reality Check</h3>
                    <p class="text-gray-600 mt-2"><strong>150+ ‚Üí 40+</strong></p>
                    <p class="text-gray-600 text-sm">Aggressively eliminates campaigns that lack sufficient budget to purchase.</p>
                </div>
                 <div class="flow-card" style="border-color: #79c7a0;">
                    <div class="text-4xl mb-3">üèÜ</div>
                    <h3 class="text-xl font-semibold">4. Final Revenue Optimization</h3>
                    <p class="text-gray-600 mt-2"><strong>40+ ‚Üí 1-4 Winners</strong></p>
                    <p class="text-gray-600 text-sm">Tests all sale type combinations to find the absolute highest revenue scenario.</p>
                </div>
            </div>
        </section>

        <section id="discovery" class="bg-white rounded-lg shadow-lg p-6 mb-12">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <div>
                    <h2 class="text-3xl font-bold mb-4" style="color: #FF4E50;">Step 1: Cast the Wide Net</h2>
                    <p class="mt-4 text-gray-700">The funnel begins with <strong>500+ potential campaigns</strong> and systematically narrows them down. Like a massive sieve, each filter removes unsuitable buyers until only the most relevant and eligible campaigns remain. This aggressive filtering ensures leads only go to partners who truly match the requirements.</p>
                    <div class="mt-4 p-4 bg-red-50 rounded-lg border-l-4 border-red-500">
                        <p class="text-red-700 font-semibold">üéØ Funnel Impact: <span class="text-2xl">500+ ‚Üí 150+</span></p>
                        <p class="text-red-600 text-sm">Eliminates ~70% of initial campaigns through strict qualification filters</p>
                    </div>
                    <ul class="mt-4 space-y-2">
                       <li class="flex items-center"><span class="font-bold text-lg mr-2" style="color:#FF4E50;">&#10003;</span> Geographic Matching</li>
                       <li class="flex items-center"><span class="font-bold text-lg mr-2" style="color:#FF4E50;">&#10003;</span> Industry & Company Eligibility</li>
                       <li class="flex items-center"><span class="font-bold text-lg mr-2" style="color:#FF4E50;">&#10003;</span> Utility Filters (Solar-specific)</li>
                       <li class="flex items-center"><span class="font-bold text-lg mr-2" style="color:#FF4E50;">&#10003;</span> Rejection % Thresholds</li>
                    </ul>
                </div>
                <div class="chart-container">
                     <canvas id="filteringFunnelChart"></canvas>
                </div>
            </div>
        </section>

        <section id="pricing" class="bg-white rounded-lg shadow-lg p-6 mb-12">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                 <div class="order-2 md:order-1">
                    <h2 class="text-3xl font-bold mb-4" style="color: #FC913A;">Step 2: Calculate True Value</h2>
                    <p class="mt-4 text-gray-700">For each surviving campaign in our narrowed funnel, we calculate what they're actually worth. While the base price comes from bid hierarchy, the <strong>rectification process</strong> reveals the truth - campaigns with high rejection rates get penalized because they're less likely to convert, reducing their true revenue value.</p>
                    <div class="mt-4 p-4 bg-orange-50 rounded-lg border-l-4 border-orange-500">
                        <p class="text-orange-700 font-semibold">üí° Smart Pricing: Historical performance directly impacts price</p>
                        <p class="text-orange-600 text-sm">Poor performers get lower prices, ensuring revenue predictions are realistic</p>
                    </div>
                    <h4 class="font-semibold mt-4 mb-2">Price Rectification Formula:</h4>
                    <div class="formula-box" style="color: #FC913A;">Final Price = Base Price * (1 - (Rejection % / 100))</div>
                </div>
                <div class="order-1 md:order-2 chart-container">
                    <canvas id="priceRectificationChart"></canvas>
                </div>
            </div>
        </section>

        <section id="budgeting" class="bg-white rounded-lg shadow-lg p-6 mb-12">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <div>
                    <h2 class="text-3xl font-bold mb-4" style="color: #F9D423;">Step 3: Budget Reality Check</h2>
                    <p class="mt-4 text-gray-700">This is where the funnel gets ruthless. A campaign might be perfect and have great pricing, but if they're out of money, they're out of the game. This financial checkpoint <strong>eliminates the majority of remaining campaigns</strong>, cutting our pool from 150+ down to just 40+ viable buyers.</p>
                    <div class="mt-4 p-4 bg-yellow-50 rounded-lg border-l-4 border-yellow-500">
                        <p class="text-yellow-700 font-semibold">‚ö° Major Funnel Bottleneck: <span class="text-2xl">150+ ‚Üí 40+</span></p>
                        <p class="text-yellow-600 text-sm">Budget constraints eliminate ~75% of qualified campaigns</p>
                    </div>
                    <ul class="mt-4 space-y-2">
                       <li class="flex items-center"><span class="font-bold text-lg mr-2" style="color:#F9D423;">&#10003;</span> Daily & Monthly Budget Amounts</li>
                       <li class="flex items-center"><span class="font-bold text-lg mr-2" style="color:#F9D423;">&#10003;</span> Budget Usage Percentage</li>
                       <li class="flex items-center"><span class="font-bold text-lg mr-2" style="color:#F9D423;">&#10003;</span> "Never Exceed Budget" Settings</li>
                    </ul>
                </div>
                <div class="chart-container">
                    <canvas id="budgetCategoryChart"></canvas>
                </div>
            </div>
        </section>

        <section id="selection" class="bg-white rounded-lg shadow-lg p-6 mb-12">
            <h2 class="text-3xl font-bold text-center mb-2" style="color: #79c7a0;">Step 4: Final Revenue Optimization</h2>
            <p class="text-center text-gray-600 max-w-4xl mx-auto mb-6">The bottom of our funnel - where the magic happens. From our remaining <strong>40+ qualified and funded campaigns</strong>, we run every possible combination through revenue scenarios. Should we sell exclusively to one buyer for $50? Or to four buyers for $125 total? The algorithm tests them all and picks the absolute winner.</p>
            
            <div class="flex justify-center mb-8">
                <div class="p-6 bg-green-50 rounded-lg border-l-4 border-green-500 max-w-md text-center">
                    <p class="text-green-700 font-bold text-xl">üèÜ Funnel Complete: <span class="text-2xl">40+ ‚Üí 1-4 Winners</span></p>
                    <p class="text-green-600 text-sm mt-2">From hundreds of possibilities to the perfect revenue-maximizing combination</p>
                </div>
            </div>
            <div class="mt-8 grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                 <div class="chart-container">
                    <canvas id="selectionPrioritiesChart"></canvas>
                </div>
                <div class="chart-container">
                    <canvas id="scenarioRevenueChart"></canvas>
                </div>
            </div>
        </section>
        
    </main>

    <footer class="bg-white mt-12 border-t">
        <div class="max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8 text-center text-gray-500">
            <p>&copy; BRS Algorithm Visualization. All data is representative.</p>
        </div>
    </footer>

    <script>
        function wrapLabel(label, maxWidth) {
            const words = label.split(' ');
            const lines = [];
            let currentLine = '';
            words.forEach(word => {
                const testLine = currentLine.length > 0 ? `${currentLine} ${word}` : word;
                if (testLine.length > maxWidth) {
                    lines.push(currentLine);
                    currentLine = word;
                } else {
                    currentLine = testLine;
                }
            });
            lines.push(currentLine);
            return lines;
        }

        const tooltipTitleCallback = (tooltipItems) => {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            if (Array.isArray(label)) {
                return label.join(' ');
            }
            return label;
        };
        
        const energeticPalette = ['#FF4E50', '#FC913A', '#F9D423', '#79c7a0'];

        const ctx1 = document.getElementById('filteringFunnelChart').getContext('2d');
        new Chart(ctx1, {
            type: 'bar',
            data: {
                labels: ['Initial Pool', 'Geographic Match', 'Industry Filter', 'Performance Filter'],
                datasets: [{
                    label: 'Campaigns Remaining',
                    data: [500, 320, 220, 150],
                    backgroundColor: ['#ef4444', '#f97316', '#eab308', '#22c55e'],
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    title: {
                        display: true,
                        text: 'Campaign Filtering Funnel',
                        font: { size: 16 }
                    },
                    tooltip: { callbacks: { title: tooltipTitleCallback } }
                }
            }
        });

        const ctx2 = document.getElementById('priceRectificationChart').getContext('2d');
        new Chart(ctx2, {
            type: 'bar',
            data: {
                labels: [wrapLabel('Campaign A (0% Reject)', 16), wrapLabel('Campaign B (10% Reject)', 16), wrapLabel('Campaign C (25% Reject)', 16)],
                datasets: [{
                    label: 'Base Price',
                    data: [50, 50, 50],
                    backgroundColor: '#cccccc',
                },{
                    label: 'Final Price',
                    data: [50, 45, 37.5],
                    backgroundColor: '#FC913A',
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        title: { display: true, text: 'Price ($)'}
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Impact of Rejection Rate on Price',
                        font: { size: 16 }
                    },
                    tooltip: { callbacks: { title: tooltipTitleCallback } }
                }
            }
        });

        const ctx3 = document.getElementById('budgetCategoryChart').getContext('2d');
        new Chart(ctx3, {
            type: 'doughnut',
            data: {
                labels: ['Verified', 'Unverified', 'Email-Only'],
                datasets: [{
                    label: 'Budget Allocation',
                    data: [65, 25, 10],
                    backgroundColor: ['#F9D423', '#fbe278', '#fcf0b7'],
                    borderColor: '#ffffff',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'bottom' },
                    title: {
                        display: true,
                        text: 'Budget Categories by Type',
                        font: { size: 16 }
                    },
                    tooltip: { callbacks: { title: tooltipTitleCallback } }
                }
            }
        });
        
        const ctx4 = document.getElementById('selectionPrioritiesChart').getContext('2d');
        new Chart(ctx4, {
            type: 'radar',
            data: {
                labels: ['Higher Price', wrapLabel('Lower Budget Usage', 16), wrapLabel('Lower Rejection %', 16)],
                datasets: [{
                    label: 'Sorting Weight',
                    data: [10, 8, 7],
                    backgroundColor: 'rgba(121, 199, 160, 0.2)',
                    borderColor: '#79c7a0',
                    pointBackgroundColor: '#79c7a0',
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    r: {
                        angleLines: { display: false },
                        suggestedMin: 0,
                        suggestedMax: 10,
                        ticks: { display: false }
                    }
                },
                plugins: {
                    legend: { display: false },
                    title: {
                        display: true,
                        text: 'Campaign Sorting Priorities',
                        font: { size: 16 }
                    },
                    tooltip: { callbacks: { title: tooltipTitleCallback } }
                }
            }
        });
        
        const ctx5 = document.getElementById('scenarioRevenueChart').getContext('2d');
        new Chart(ctx5, {
            type: 'bar',
            data: {
                labels: ['Exclusive', 'Duo', 'Trio', 'Quad'],
                datasets: [{
                    label: 'Total Scenario Revenue',
                    data: [50, 85, 110, 125],
                    backgroundColor: '#79c7a0',
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        title: { display: true, text: 'Total Revenue ($)'}
                    }
                },
                plugins: {
                    legend: { display: false },
                    title: {
                        display: true,
                        text: 'Revenue by Sale Type Scenario',
                        font: { size: 16 }
                    },
                    tooltip: { callbacks: { title: tooltipTitleCallback } }
                }
            }
        });
    </script>
</body>
</html>
